<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">

<h:head>

<f:metadata>
        <f:viewParam id="cedulabusqueda" name="cedulabusqueda" value="#{clienteMB.cedulabusqueda}"/>
        <f:viewAction action="#{clienteMB.loadData()}" />
 	</f:metadata>
</h:head>
<body>

	<div class="container">
		<h:form class="form-horizontal form material">
			<div class="form-group">
				<label for="txtcedula" class="col-md-12">Cedula:</label>
				<div class="col-md-10">
					<h:inputText id="txtcedula" value="#{clienteMB.newcliente.cedula}"
						class="form-control form-control-line" />
					<h:message for="txtcedula" />
				</div>
				<div class="col-md-2">
					<h:commandButton value="Buscar"
						action="#{clienteMB.buscarClienteCedula()}">
						<f:ajax render="@form" execute="@form"/>
						</h:commandButton>
				</div>
			</div>

			<div class="form-group">
				<label for="txtapellidos" class="col-md-12">Apellidos:</label>
				<div class="col-md-12">
					<h:inputText id="txtapellidos"
						value="#{clienteMB.newcliente.apellidos}"
						class="form-control form-control-line" />
					<h:message for="txtapellidos" />
				</div>
			</div>

			<div class="form-group">
				<label for="txtnombres" class="col-md-12">Nombres:</label>
				<div class="col-md-12">
					<h:inputText id="txtnombres" value="#{clienteMB.newcliente.nombres}"
						class="form-control form-control-line" />
					<h:message for="txtnombres" />
				</div>
			</div>

			<div class="form-group">
				<label for="txttelefono" class="col-md-12">Telefono:</label>
				<div class="col-md-12">
					<h:inputText id="txttelefono" value="#{clienteMB.newcliente.telefono}"
						class="form-control form-control-line" />
					<h:message for="txttelefono" />
				</div>
			</div>

			<div class="form-group">
				<label for="txtcorreo" class="col-md-12">Correo:</label>
				<div class="col-md-12">
					<h:inputText id="txtcorreo" value="#{clienteMB.newcliente.correo}"
						class="form-control form-control-line" />
					<h:message for="txtcorreo" />
				</div>
			</div>
			<div class="form-group">
				<label for="txtclave" class="col-md-12">Clave:</label>
				<div class="col-md-12">
					<h:inputText id="txtclave" value="#{clienteMB.newcliente.clave}"
						class="form-control form-control-line" />
					<h:message for="txtclave" />
				</div>
			</div>

			<div class="form-group">
				<div class="col-sm-6">
				
					<h:commandButton value="Registar Cliente"
						action="#{clienteMB.agregarCliente()}" >

						</h:commandButton>
				</div>
				<div class="col-sm-6">
				
					<h:commandButton value="Editar Cliente"
						action="#{clienteMB.updateCliente()}" >

						</h:commandButton>
				</div>
			</div>

			
			<div class="form-group">
				<label class="col-md-10">Cuentas </label>
				<div class="col-md-2">
					<h:commandButton action="#{clienteMB.addCuenta()}"
						value="+ Agregar" class="btn btn-default">
						<f:ajax render="@form" execute="@form"/>
					</h:commandButton>
				</div>

				<div class="col-md-12">
					<h:dataTable class="table" value="#{clienteMB.newcliente.cuentas}"
						var="cuenta" id="tablaCuentas">

						<h:column>
							<f:facet name="header"># Cuenta</f:facet>
							#{cuenta.id}
						</h:column>
						
						<h:column>
							<f:facet name="header">Saldo</f:facet>
							<h:inputText id="txtCuentaSaldo" value="#{cuenta.saldo}"
								class="form-control form-control-line" />
						</h:column>
						<h:column>
							<f:facet name="header">Tipo de Cuenta</f:facet>
							<h:selectOneMenu id="txtTipoCuenta" value="#{cuenta.tipoCuenta}"
								required="true" label="txtTipoCuenta"
								class="form-control select2">
								<f:selectItem itemLabel="Seleccione" itemValue="Selecione" />
								<f:selectItem itemLabel="Ahorro" itemValue="Ahorro" />
								<f:selectItem itemLabel="Corriente" itemValue="Corriente" />
							</h:selectOneMenu>
						</h:column>
					</h:dataTable>

				</div>

			</div>
		</h:form>
	</div>

</body>
</html>
